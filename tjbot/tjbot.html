<!--
#***************************************************************************
# Copyright 2017 IBM
#
#   TJ Bot Nodes for Node-RED
#
#   By JeanCarl Bisson (@dothewww)
#   More info: https://ibm.biz/node-red-contrib-tjbot
#
#   Licensed under the Apache License, Version 2.0 (the "License");
#   you may not use this file except in compliance with the License.
#   You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
#   Unless required by applicable law or agreed to in writing, software
#   distributed under the License is distributed on an "AS IS" BASIS,
#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#   See the License for the specific language governing permissions and
#***************************************************************************
-->
<script type="text/javascript">
  RED.nodes.registerType("tjbot-config",{
    category: "config",
    defaults: {
      botGender: {value: "male"},
      name: {value: ""}
    },
    credentials: {
      taUsername: {type:"text"},
      taPassword: {type:"password"},
      cUsername: {type:"text"},
      cPassword: {type:"password"},
      cWorkspaceId: {type:"text"},
      ltUsername: {type:"text"},
      ltPassword: {type:"password"},
      vrApiKey: {type:"password"}
    },
    label: function() {
      return this.botName||this.name||"TJBot";
    }
  });

  RED.nodes.registerType("tjbot-analyze-tone",{
    category: "TJBot",
    color: "#D2B48C",
    defaults: {
      botId: {type: "tjbot-config"},
      name: {value: ""}
    },
    inputs: 1,
    outputs: 1,
    paletteLabel: "analyze tone",
    icon: "tone_analyzer.png",
    align: "left",
    label: function() {
      return this.name||"Analyze Tone";
    }
  });

  RED.nodes.registerType("tjbot-converse",{
    category: "TJBot",
    color: "#D2B48C",
    defaults: {
      botId: {type: "tjbot-config"},
      name: {value: ""}
    },
    inputs: 1,
    outputs: 1,
    paletteLabel: "converse",
    icon: "conversation.png",
    align: "left",
    label: function() {
      return this.name||"Converse";
    }
  });

  RED.nodes.registerType("tjbot-see",{
    category: "TJBot",
    color: "#D2B48C",
    defaults: {
      botId: {type: "tjbot-config"},
      name: {value: ""}
    },
    inputs: 1,
    outputs: 1,
    paletteLabel: "see",
    icon: "visual_recognition.png",
    align: "left",
    label: function() {
      return this.name||"See";
    }
  });

  RED.nodes.registerType("tjbot-led",{
    category: "TJBot",
    color: "#D2B48C",
    defaults: {
      botId: {type: "tjbot-config"},
      color: {value: ""},
      name: {value: ""}
    },
    inputs: 1,
    paletteLabel: "shine",
    icon: "light.png",
    align: "right",
    label: function() {
      return this.name||"Color: "+this.color;
    }
  });

  RED.nodes.registerType("tjbot-takephoto",{
    category: "TJBot",
    color: "#D2B48C",
    defaults: {
      botId: {type: "tjbot-config"},
      name: {value: ""}
    },
    inputs: 1,
    outputs:1,
    paletteLabel: "take photo",
    icon: "camera.png",
    align: "left",
    label: function() {
      return this.name||"Take Photo";
    }
  });

  RED.nodes.registerType("tjbot-translate",{
    category: "TJBot",
    color: "#D2B48C",
    defaults: {
      botId: {type: "tjbot-config"},
      srcLang: {value: ""},
      targetLang: {value: ""},
      name: {value: ""}
    },
    inputs: 1,
    outputs:1,
    paletteLabel: "translate",
    icon: "translate.png",
    align: "left",
    label: function() {
      return this.name||"Translate";
    }
  });

  RED.nodes.registerType("tjbot-wave",{
    category: "TJBot",
    color: "#D2B48C",
    defaults: {
      botId: {type: "tjbot-config"},
      name: {value: ""}
    },
    inputs: 1,
    paletteLabel: "wave",
    icon: "bridge.png",
    align: "right",
    label: function() {
      return this.name||"Wave";
    }
  });
</script>

<script type="text/x-red" data-template-name="tjbot-config">
  <div class="form-row">
    <label for="node-config-input-botGender"><i class="fa fa-user"></i> Gender:</label>
    <select id="node-config-input-botGender">
      <option value="male">Male</option>
      <option value="female">Female</option>
    </select>
  </div>
  <div class="form-row">
    <label for="node-config-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-config-input-name" placeholder="Name">
  </div>
  <div class="form-row">
    <b>Tone Analyzer</b>
  </div>
  <div class="form-row">
    <label for="node-config-input-taUsername"><i class="fa fa-user"></i> Username:</label>
    <input type="text" id="node-config-input-taUsername" placeholder="Tone Analyzer Username">
  </div>
  <div class="form-row">
    <label for="node-config-input-taPassword"><i class="fa fa-key"></i> Password:</label>
    <input type="password" id="node-config-input-taPassword" placeholder="Tone Analyzer Password">
  </div>
  <div class="form-row">
    <b>Conversation</b>
  </div>
  <div class="form-row">
    <label for="node-config-input-cUsername"><i class="fa fa-user"></i> Username:</label>
    <input type="text" id="node-config-input-cUsername" placeholder="Conversation Username">
  </div>
  <div class="form-row">
    <label for="node-config-input-cPassword"><i class="fa fa-key"></i> Password:</label>
    <input type="password" id="node-config-input-cPassword" placeholder="Conversation Password">
  </div>
  <div class="form-row">
    <label for="node-config-input-cWorkspaceId"><i class="fa fa-tag"></i> Workspace ID:</label>
    <input type="text" id="node-config-input-cWorkspaceId" placeholder="Conversation Workspace ID">
  </div>
  <div class="form-row">
    <b>Language Translator</b>
  </div>
  <div class="form-row">
    <label for="node-config-input-ltUsername"><i class="fa fa-user"></i> Username:</label>
    <input type="text" id="node-config-input-ltUsername" placeholder="Language Translator Username">
  </div>
  <div class="form-row">
    <label for="node-config-input-ltPassword"><i class="fa fa-key"></i> Password:</label>
    <input type="password" id="node-config-input-ltPassword" placeholder="Language Translator Password">
  </div>
  <div class="form-row">
    <b>Visual Recognition</b>
  </div>
  <div class="form-row">
    <label for="node-config-input-vrApiKey"><i class="fa fa-key"></i> API Key:</label>
    <input type="password" id="node-config-input-vrApiKey" placeholder="Visual Recognition API Key">
  </div>
</script>

<script type="text/x-red" data-template-name="tjbot-wave">
  <div class="form-row">
    <label for="node-input-botId"><i class="fa fa-user"></i> Bot:</label>
    <select id="node-input-botId">
    </select>
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
</script>

<script type="text/x-red" data-help-name="tjbot-wave">
  <p>Make TJ Bot wave</p>
  <p><b>Note:</b> This node requires that a servo is connected to the TJ Bot.</p>
</script>

<script type="text/x-red" data-template-name="tjbot-led">
  <div class="form-row">
    <label for="node-input-botId"><i class="fa fa-user"></i> Bot:</label>
    <select id="node-input-botId">
    </select>
  </div>
  <div class="form-row">
    <label for="node-input-color"><i class="fa fa-cog"></i> Color:</label>
		<select id="node-input-color">
      <option value="off">Off</option></option>
      <option value="aliceblue">aliceblue</option>
      <option value="antiquewhite">antiquewhite</option>
      <option value="aqua">aqua</option>
      <option value="aquamarine">aquamarine</option>
      <option value="azure">azure</option>
      <option value="banana">banana</option>
      <option value="beige">beige</option>
      <option value="bisque">bisque</option>
      <option value="black">black</option>
      <option value="blanchedalmond">blanchedalmond</option>
      <option value="blue">blue</option>
      <option value="blueviolet">blueviolet</option>
      <option value="brick">brick</option>
      <option value="brown">brown</option>
      <option value="burlywood">burlywood</option>
      <option value="burntsienna">burntsienna</option>
      <option value="burntumber">burntumber</option>
      <option value="cadetblue">cadetblue</option>
      <option value="cadmiumorange">cadmiumorange</option>
      <option value="cadmiumyellow">cadmiumyellow</option>
      <option value="carrot">carrot</option>
      <option value="chartreuse">chartreuse</option>
      <option value="chocolate">chocolate</option>
      <option value="cobalt">cobalt</option>
      <option value="cobaltgreen">cobaltgreen</option>
      <option value="coldgrey">coldgrey</option>
      <option value="coral">coral</option>
      <option value="cornflowerblue">cornflowerblue</option>
      <option value="cornsilk">cornsilk</option>
      <option value="crimson">crimson</option>
      <option value="cyan">cyan</option>
      <option value="darkblue">darkblue</option>
      <option value="darkcyan">darkcyan</option>
      <option value="darkgoldenrod">darkgoldenrod</option>
      <option value="darkgray">darkgray</option>
      <option value="darkgreen">darkgreen</option>
      <option value="darkkhaki">darkkhaki</option>
      <option value="darkmagenta">darkmagenta</option>
      <option value="darkolivegreen">darkolivegreen</option>
      <option value="darkorange">darkorange</option>
      <option value="darkorchid">darkorchid</option>
      <option value="darkred">darkred</option>
      <option value="darksalmon">darksalmon</option>
      <option value="darkseagreen">darkseagreen</option>
      <option value="darkslateblue">darkslateblue</option>
      <option value="darkslategray">darkslategray</option>
      <option value="darkturquoise">darkturquoise</option>
      <option value="darkviolet">darkviolet</option>
      <option value="deeppink">deeppink</option>
      <option value="deepskyblue">deepskyblue</option>
      <option value="dimgray">dimgray</option>
      <option value="dodgerblue">dodgerblue</option>
      <option value="eggshell">eggshell</option>
      <option value="emeraldgreen">emeraldgreen</option>
      <option value="firebrick">firebrick</option>
      <option value="flesh">flesh</option>
      <option value="floralwhite">floralwhite</option>
      <option value="forestgreen">forestgreen</option>
      <option value="fuchsia">fuchsia</option>
      <option value="gainsboro">gainsboro</option>
      <option value="ghostwhite">ghostwhite</option>
      <option value="gold">gold</option>
      <option value="goldenrod">goldenrod</option>
      <option value="gray">gray</option>
      <option value="green">green</option>
      <option value="greenyellow">greenyellow</option>
      <option value="honeydew">honeydew</option>
      <option value="hotpink">hotpink</option>
      <option value="indian red">indian red</option>
      <option value="indianred">indianred</option>
      <option value="indigo">indigo</option>
      <option value="ivory">ivory</option>
      <option value="ivoryblack">ivoryblack</option>
      <option value="khaki">khaki</option>
      <option value="lavender">lavender</option>
      <option value="lavenderblush">lavenderblush</option>
      <option value="lawngreen">lawngreen</option>
      <option value="lemonchiffon">lemonchiffon</option>
      <option value="lightblue">lightblue</option>
      <option value="lightcoral">lightcoral</option>
      <option value="lightcyan">lightcyan</option>
      <option value="lightgoldenrodyellow">lightgoldenrodyellow</option>
      <option value="lightgreen">lightgreen</option>
      <option value="lightgrey">lightgrey</option>
      <option value="lightpink">lightpink</option>
      <option value="lightsalmon">lightsalmon</option>
      <option value="lightseagreen">lightseagreen</option>
      <option value="lightskyblue">lightskyblue</option>
      <option value="lightslateblue">lightslateblue</option>
      <option value="lightslategray">lightslategray</option>
      <option value="lightsteelblue">lightsteelblue</option>
      <option value="lightyellow">lightyellow</option>
      <option value="lime">lime</option>
      <option value="limegreen">limegreen</option>
      <option value="linen">linen</option>
      <option value="magenta">magenta</option>
      <option value="manganeseblue">manganeseblue</option>
      <option value="maroon">maroon</option>
      <option value="mediumaquamarine">mediumaquamarine</option>
      <option value="mediumblue">mediumblue</option>
      <option value="mediumorchid">mediumorchid</option>
      <option value="mediumpurple">mediumpurple</option>
      <option value="mediumseagreen">mediumseagreen</option>
      <option value="mediumslateblue">mediumslateblue</option>
      <option value="mediumspringgreen">mediumspringgreen</option>
      <option value="mediumturquoise">mediumturquoise</option>
      <option value="mediumvioletred">mediumvioletred</option>
      <option value="melon">melon</option>
      <option value="midnightblue">midnightblue</option>
      <option value="mint">mint</option>
      <option value="mintcream">mintcream</option>
      <option value="mistyrose">mistyrose</option>
      <option value="moccasin">moccasin</option>
      <option value="navajowhite">navajowhite</option>
      <option value="navy">navy</option>
      <option value="oldlace">oldlace</option>
      <option value="olive">olive</option>
      <option value="olivedrab">olivedrab</option>
      <option value="orange">orange</option>
      <option value="orangered">orangered</option>
      <option value="orchid">orchid</option>
      <option value="palegoldenrod">palegoldenrod</option>
      <option value="palegreen">palegreen</option>
      <option value="paleturquoise">paleturquoise</option>
      <option value="palevioletred">palevioletred</option>
      <option value="papayawhip">papayawhip</option>
      <option value="peachpuff">peachpuff</option>
      <option value="peacock">peacock</option>
      <option value="peru">peru</option>
      <option value="pink">pink</option>
      <option value="plum">plum</option>
      <option value="powderblue">powderblue</option>
      <option value="purple">purple</option>
      <option value="raspberry">raspberry</option>
      <option value="rawsienna">rawsienna</option>
      <option value="red">red</option>
      <option value="rosybrown">rosybrown</option>
      <option value="royalblue">royalblue</option>
      <option value="saddlebrown">saddlebrown</option>
      <option value="salmon">salmon</option>
      <option value="sandybrown">sandybrown</option>
      <option value="sapgreen">sapgreen</option>
      <option value="seagreen">seagreen</option>
      <option value="seashell">seashell</option>
      <option value="sepia">sepia</option>
      <option value="sgi beet">sgi beet</option>
      <option value="sgi brightgray">sgi brightgray</option>
      <option value="sgi chartreuse">sgi chartreuse</option>
      <option value="sgi darkgray">sgi darkgray</option>
      <option value="sgi lightblue">sgi lightblue</option>
      <option value="sgi lightgray">sgi lightgray</option>
      <option value="sgi olivedrab">sgi olivedrab</option>
      <option value="sgi salmon">sgi salmon</option>
      <option value="sgi slateblue">sgi slateblue</option>
      <option value="sgi teal">sgi teal</option>
      <option value="sienna">sienna</option>
      <option value="silver">silver</option>
      <option value="skyblue">skyblue</option>
      <option value="slateblue">slateblue</option>
      <option value="slategray">slategray</option>
      <option value="snow">snow</option>
      <option value="springgreen">springgreen</option>
      <option value="steelblue">steelblue</option>
      <option value="tan">tan</option>
      <option value="teal">teal</option>
      <option value="thistle">thistle</option>
      <option value="tomato">tomato</option>
      <option value="turquoise">turquoise</option>
      <option value="turquoiseblue">turquoiseblue</option>
      <option value="violet">violet</option>
      <option value="violetred">violetred</option>
      <option value="warmgrey">warmgrey</option>
      <option value="wheat">wheat</option>
      <option value="white">white</option>
      <option value="white smoke">white smoke</option>
      <option value="whitesmoke">whitesmoke</option>
      <option value="yellow">yellow</option>
      <option value="yellowgreen">yellowgreen</option>
    </select>
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
</script>

<script type="text/x-red" data-help-name="tjbot-led">
  <p>Make TJ Bot shine it's LED</p>
  <p>Programmatically set the LED color by setting <b>msg.color</b> to a valid HTML color.</p>
  <p><b>Note:</b> This node requires that a LED is connected to the TJ Bot.</p>
</script>

<script type="text/x-red" data-template-name="tjbot-analyze-tone">
  <div class="form-row">
    <label for="node-input-botId"><i class="fa fa-user"></i> Bot:</label>
    <select id="node-input-botId">
    </select>
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
</script>

<script type="text/x-red" data-help-name="tjbot-analyze-tone">
  <p>Make TJ Bot analyze the tone</p>
  <p>The text to analyze should be passed in on <b>msg.payload</b>.</p>
  <p>The service response will be returned on <b>msg.response</b>.</p>
  <p><b>Note:</b> This node requires that the Watson Tone Analyzer credentials are set in the TJ Bot configuration.</p>
</script>

<script type="text/x-red" data-template-name="tjbot-converse">
  <div class="form-row">
    <label for="node-input-botId"><i class="fa fa-user"></i> Bot:</label>
    <select id="node-input-botId">
    </select>
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
</script>

<script type="text/x-red" data-help-name="tjbot-converse">
  <p>Make TJ Bot converse</p>
  <p>The text to analyze should be passed in on <b>msg.payload</b>.</p>
  <p>The service response will be returned on <b>msg.response</b>.</p>
  <p><b>Note:</b> This node requires that the Watson Conversation credentials are set in the TJ Bot configuration.</p>
</script>

<script type="text/x-red" data-template-name="tjbot-translate">
  <div class="form-row">
    <label for="node-input-botId"><i class="fa fa-user"></i> Bot:</label>
    <select id="node-input-botId">
    </select>
  </div>
  <div class="form-row">
    <label for="node-input-srcLang"><i class="fa fa-comments-o"></i> From:</label>
    <select id="node-input-srcLang">
      <option value="ar">Arabic</option>
      <option value="zh">Chinese</option>
      <option value="de">German</option>
      <option value="en">English</option>
      <option value="fr">French</option>
      <option value="it">Italian</option>
      <option value="ja">Japanese</option>
      <option value="ko">Korean</option>
      <option value="es">Spanish</option>
      <option value="pt">Portuguese</option>
    </select>
  </div>
  <div class="form-row">
    <label for="node-input-targetLang"><i class="fa fa-comments-o"></i> To:</label>
    <select id="node-input-targetLang">
      <option value="ar">Arabic</option>
      <option value="zh">Chinese</option>
      <option value="de">German</option>
      <option value="en">English</option>
      <option value="fr">French</option>
      <option value="it">Italian</option>
      <option value="ja">Japanese</option>
      <option value="ko">Korean</option>
      <option value="es">Spanish</option>
      <option value="pt">Portuguese</option>
    </select>
  </div>
  <div class="form-row">
      <label for="node-input-name"><i class="icon-tag"></i> Name</label>
      <input type="text" id="node-input-name" placeholder="Name">
  </div>
</script>

<script type="text/x-red" data-help-name="tjbot-translate">
  <p>Make TJ Bot translate text</p>
  <p>The text to be translated should be passed in on <b>msg.payload</b>.</p>
  <p>Set the source language and target language on <b>msg.srcLang</b> and <b>targetLang</b>, respectively:</p>
  <ul>
    <li>ar - Arabic</li>
    <li>zh - Chinese</li>
    <li>de - German</li>
    <li>en - English</li>
    <li>fr - French</li>
    <li>it - Italian</li>
    <li>ja - Japanese</li>
    <li>ko - Korean</li>
    <li>es - Spanish</li>
    <li>pt - Portuguese</li>
  </ul>
  <p>The service response will be returned on <b>msg.response</b>.</p>
  <p><b>Note:</b> This node requires that the Watson Language Translator credentials are set in the TJ Bot configuration.</p>
</script>

<script type="text/x-red" data-template-name="tjbot-see">
  <div class="form-row">
    <label for="node-input-botId"><i class="fa fa-user"></i> Bot:</label>
    <select id="node-input-botId">
    </select>
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
</script>

<script type="text/x-red" data-help-name="tjbot-see">
  <p>Make TJ Bot recognize objects</p>
  <p>The service response will be returned on <b>msg.payload</b>.</p>
  <p><b>Note:</b> This node requires that the Watson Visual Recognition API Key is set in the TJ Bot configuration and a camera attached to the Raspberry Pi.</p>
</script>

<script type="text/x-red" data-template-name="tjbot-takephoto">
  <div class="form-row">
    <label for="node-input-botId"><i class="fa fa-user"></i> Bot:</label>
    <select id="node-input-botId">
    </select>
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
</script>

<script type="text/x-red" data-help-name="tjbot-takephoto">
  <p>Make TJ Bot take a photo</p>
  <p>The image will be returned on <b>msg.payload</b> as a Buffer object.</p>
  <p><b>Note:</b> This node requires a camera attached to the Raspberry Pi.</p>
</script>
